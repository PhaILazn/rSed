<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <!-- Fancy Fonts, Icons, and Logos -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
      integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
      crossorigin="anonymous"
    />
    <!-- Bootstrap Link -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
      integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
      crossorigin="anonymous"
    />

    <!-- CSS StyleSheet -->
    <link rel="stylesheet" href="/public/css/style.css" />

    <!-- Icon Title -->
    <title>OmNom Food Delivery</title>

    <!-- rSed Title Icon -->
    <link rel="icon" href="/public/img/rSedLogo.png" type="image/icon type" />
  </head>

  <!-- Body -->

  <body>
    <%- include("./partials/header.ejs") %>
    <header style="padding-top: 100px;">
      <div class="dark-overlay">
        <% if (!currentOrder.price == 0) { %>
        <div class="home-inner container">
          <% var total = 0 %> <% var itemCount = 1 %>
          <div class="row" style="justify-content: center;">
            <h1>
              <b>
                Shopping Cart
              </b>
            </h1>
          </div>
          <div class="row" style="justify-content: center;">
            <div class="col-sm-6 col-md-6 col-md-offset-3 col-sm-offset-3">
              <ul class="list-group">
                <% currentOrder.items.forEach(function(orderItem) { %>
                <li class="list-group-item" style="background: red;">
                  <span class="badge" style="color: #ffd700;">
                    <%=itemCount%>. <% itemCount++ %>
                  </span>
                  <img
                    src="<%=orderItem.image%>"
                    alt="<%=orderItem.name%>"
                    width="25"
                    height="25"
                  />
                  <strong style="color: #ffd700;">
                    <%=orderItem.name%>
                  </strong>

                  <button
                    type="button"
                    href="#"
                    class="float-right btn btn-sm"
                    style="background-color: white;"
                  >
                    Remove
                  </button>
                  <span style="color: #ffd700;">
                    <%=orderItem.restaurant.name%>

                    <span
                      class="float-right font-weight-bold"
                      style="padding-right: 10px;"
                      >$<%=orderItem.price%>
                    </span>

                    <% total += orderItem.price %>
                  </span>
                </li>
                <% } ); %>
              </ul>
            </div>
          </div>
          <div class="d-flex justify-content-center" style="padding-top: 10px;">
            <div class="col-sm-6 col-md-6 col-md-offset-3 col-sm-offset-3">
              <h3>
                <p style="float: left;">
                  Total: $<%=currentOrder.totalPrice%>
                </p>

                <p style="float: right;">
                  <button
                    type="button"
                    href="#"
                    class="btn"
                    style="
                      background-color: red;
                      color: white;
                      font-weight: bold;
                    "
                  >
                    Checkout
                  </button>
                </p>
              </h3>
            </div>
          </div>
          <div class="row" style="align-items: right;">
            <div
              class="col-sm-6 col-md-6 col-md-offset-3 col-sm-offset-3"
              style="text-align: right; padding-bottom: 75px;"
            ></div>
          </div>
        </div>
        <% } else { %>
        <h1 align="center" style="padding-top: 250px; color: #ff0000;">
          <b>
            You haven't added anything yet! Get to it!
          </b>
        </h1>
        <% } %>
      </div>
    </header>
    <section id="explore-section" class="text-muted py-5"></section>
    <!-- FOOTER -->
    <%- include("./partials/footer.ejs") %>
  </body>
</html>
